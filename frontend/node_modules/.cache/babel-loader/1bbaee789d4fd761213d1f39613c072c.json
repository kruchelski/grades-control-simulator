{"ast":null,"code":"var _jsxFileName = \"/Users/cassiano/Documents/Estudos e leituras/Programac\\u0327a\\u0303o/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\nModal.setAppElement('#root');\nexport default function ModalGrade({\n  onSave,\n  onClose,\n  selectedGrade\n}) {\n  const {\n    id,\n    student,\n    subject,\n    type,\n    value\n  } = selectedGrade;\n  const [gradeValue, setGradeValue] = useState(value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(type);\n    setGradeValidation(validation);\n  }, [type]);\n  useEffect(() => {\n    const {\n      minValue,\n      maxValue\n    } = gradeValidation;\n\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    }\n\n    ;\n    setErrorMsg('');\n  }, [gradeValidation, gradeValue]);\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = event => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  };\n\n  const handleFormSubmit = () => {};\n\n  const handleGradeChange = event => {\n    setGradeValue(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"inputName\",\n    type: \"text\",\n    value: student,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"active\",\n    htmlFor: \"inputName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Nome do aluno:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"inputSubject\",\n    type: \"text\",\n    value: subject,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"active\",\n    htmlFor: \"inputSubject\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Disciplina:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"inputType\",\n    type: \"text\",\n    value: type,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"active\",\n    htmlFor: \"inputType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Tipo de avalia\\xE7\\xE3o:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"inputGrade\",\n    type: \"number\",\n    min: gradeValidation.minValue,\n    max: gradeValidation.maxValue,\n    step: \"1\",\n    autoFocus: true,\n    value: gradeValue,\n    onChange: handleGradeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"active\",\n    htmlFor: \"inputGrade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Nota:\")))));\n}","map":{"version":3,"sources":["/Users/cassiano/Documents/Estudos e leituras/Programação/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js"],"names":["React","useState","useEffect","Modal","api","setAppElement","ModalGrade","onSave","onClose","selectedGrade","id","student","subject","type","value","gradeValue","setGradeValue","gradeValidation","setGradeValidation","errorMsg","setErrorMsg","validation","getValidationFromGradeType","minValue","maxValue","document","addEventListener","handleKeyDown","removeEventListener","event","key","handleFormSubmit","handleGradeChange","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\n\nModal.setAppElement('#root');\nexport default function ModalGrade({onSave, onClose, selectedGrade}) {\n   const { id, student, subject, type, value } = selectedGrade;\n\n  const [gradeValue, setGradeValue] = useState(value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(type);\n    setGradeValidation(validation);\n  }, [type]);\n\n  useEffect(() => {\n    const {minValue, maxValue} = gradeValidation;\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    };\n    setErrorMsg('');\n  },[gradeValidation, gradeValue])\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  }\n\n  const handleFormSubmit = () => {\n\n  }\n\n  const handleGradeChange = (event) => {\n    setGradeValue(event.target.value)\n  }\n\n  return (\n    <div>\n      <Modal isOpen={true}>\n        <form onSubmit={handleFormSubmit}>\n          <div className = 'input-field'>\n            <input id=\"inputName\" type=\"text\" value={student} readOnly />\n            <label className=\"active\" htmlFor=\"inputName\">\n              Nome do aluno: \n            </label>\n          </div>\n          <div className = 'input-field'>\n            <input id=\"inputSubject\" type=\"text\" value={subject} readOnly />\n            <label className=\"active\" htmlFor=\"inputSubject\">\n              Disciplina:\n            </label>\n          </div>\n          <div className = 'input-field'>\n            <input id=\"inputType\" type=\"text\" value={type} readOnly />\n            <label className=\"active\" htmlFor=\"inputType\">\n              Tipo de avaliação:\n            </label>\n          </div>\n\n          <div className=\"input-field\">\n            <input \n              id=\"inputGrade\"\n              type=\"number\"\n              min={gradeValidation.minValue}\n              max={gradeValidation.maxValue}\n              step=\"1\"\n              autoFocus\n              value={gradeValue}\n              onChange={handleGradeChange}\n            />\n            <label className=\"active\" htmlFor=\"inputGrade\">\n              Nota:\n            </label>\n          </div>\n        </form>\n      </Modal>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}