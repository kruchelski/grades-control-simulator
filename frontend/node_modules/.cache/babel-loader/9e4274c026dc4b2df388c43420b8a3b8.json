{"ast":null,"code":"var _jsxFileName = \"/Users/cassiano/Documents/Estudos e leituras/Programac\\u0327a\\u0303o/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\nModal.setAppElement('#root');\nexport default function ModalGrade(onSave, onClose, anus) {\n  // const { student, subject, type, value } = selectedGrade;\n  const [gradeValue, setGradeValue] = useState(anus.value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(anus.type);\n    setGradeValidation(validation);\n  }, [anus.type]);\n  useEffect(() => {\n    const {\n      minValue,\n      maxValue\n    } = gradeValidation;\n\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    }\n\n    ;\n    setErrorMsg('');\n  }, [gradeValidation, gradeValue]);\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = event => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/cassiano/Documents/Estudos e leituras/Programação/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js"],"names":["React","useState","useEffect","Modal","api","setAppElement","ModalGrade","onSave","onClose","anus","gradeValue","setGradeValue","value","gradeValidation","setGradeValidation","errorMsg","setErrorMsg","validation","getValidationFromGradeType","type","minValue","maxValue","document","addEventListener","handleKeyDown","removeEventListener","event","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,qBAArB;AAEAD,KAAK,CAACE,aAAN,CAAoB,OAApB;AACA,eAAe,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,IAArC,EAA2C;AACxD;AAEA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAACQ,IAAI,CAACG,KAAN,CAA5C;AACA,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCb,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AAIAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,UAAU,GAAGb,GAAG,CAACc,0BAAJ,CAA+BT,IAAI,CAACU,IAApC,CAAnB;AACAL,IAAAA,kBAAkB,CAACG,UAAD,CAAlB;AACD,GAHQ,EAGN,CAACR,IAAI,CAACU,IAAN,CAHM,CAAT;AAKAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAACkB,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuBR,eAA7B;;AACA,QAAIH,UAAU,GAAGU,QAAb,IAAyBV,UAAU,GAAGW,QAA1C,EAAoD;AAClDL,MAAAA,WAAW,CAAE,kCAAiCI,QAAS,MAAKC,QAAS,cAA1D,CAAX;AACA;AACD;;AAAA;AACDL,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAPQ,EAOP,CAACH,eAAD,EAAkBH,UAAlB,CAPO,CAAT;AASAR,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,aAArC;AACA,WAAO,MAAM;AACXF,MAAAA,QAAQ,CAACG,mBAAT,CAA6B,SAA7B,EAAwCD,aAAxC;AACD,KAFD;AAGD,GALQ,CAAT;;AAOA,QAAMA,aAAa,GAAIE,KAAD,IAAW;AAC/B,QAAIA,KAAK,CAACC,GAAN,KAAc,QAAlB,EAA4B;AAC1BnB,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,GAJD;;AAMA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAE,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\n\nModal.setAppElement('#root');\nexport default function ModalGrade(onSave, onClose, anus) {\n  // const { student, subject, type, value } = selectedGrade;\n\n  const [gradeValue, setGradeValue] = useState(anus.value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n\n\n\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(anus.type);\n    setGradeValidation(validation);\n  }, [anus.type]);\n\n  useEffect(() => {\n    const {minValue, maxValue} = gradeValidation;\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    };\n    setErrorMsg('');\n  },[gradeValidation, gradeValue])\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  }\n\n  return (\n    <div>\n      <Modal isOpen={true} />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}