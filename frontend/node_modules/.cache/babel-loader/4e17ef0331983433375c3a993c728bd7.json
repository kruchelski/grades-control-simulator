{"ast":null,"code":"var _jsxFileName = \"/Users/cassiano/Documents/Estudos e leituras/Programac\\u0327a\\u0303o/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\nModal.setAppElement('#root');\nexport default function ModalGrade({\n  onSave,\n  onClose,\n  selectedGrade\n}) {\n  const {\n    student,\n    subject,\n    type,\n    value\n  } = selectedGrade;\n  const [gradeValue, setGradeValue] = useState(value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(type);\n    setGradeValidation(validation);\n  }, [type]);\n  useEffect(() => {\n    const {\n      minValue,\n      maxValue\n    } = gradeValidation;\n\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    }\n\n    ;\n    setErrorMsg('');\n  }, [gradeValidation, gradeValue]);\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = event => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/cassiano/Documents/Estudos e leituras/Programação/IGTI/mod03/desafio-04/frontend/src/components/ModalGrade.js"],"names":["React","useState","useEffect","Modal","api","setAppElement","ModalGrade","onSave","onClose","selectedGrade","student","subject","type","value","gradeValue","setGradeValue","gradeValidation","setGradeValidation","errorMsg","setErrorMsg","validation","getValidationFromGradeType","minValue","maxValue","document","addEventListener","handleKeyDown","removeEventListener","event","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,qBAArB;AAEAD,KAAK,CAACE,aAAN,CAAoB,OAApB;AACA,eAAe,SAASC,UAAT,CAAoB;AAACC,EAAAA,MAAD;AAASC,EAAAA,OAAT;AAAkBC,EAAAA;AAAlB,CAApB,EAAsD;AAClE,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA,IAApB;AAA0BC,IAAAA;AAA1B,MAAoCJ,aAA1C;AAED,QAAM,CAACK,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAACY,KAAD,CAA5C;AACA,QAAM,CAACG,eAAD,EAAkBC,kBAAlB,IAAwChB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,UAAU,GAAGhB,GAAG,CAACiB,0BAAJ,CAA+BT,IAA/B,CAAnB;AACAK,IAAAA,kBAAkB,CAACG,UAAD,CAAlB;AACD,GAHQ,EAGN,CAACR,IAAD,CAHM,CAAT;AAKAV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAACoB,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuBP,eAA7B;;AACA,QAAIF,UAAU,GAAGQ,QAAb,IAAyBR,UAAU,GAAGS,QAA1C,EAAoD;AAClDJ,MAAAA,WAAW,CAAE,kCAAiCG,QAAS,MAAKC,QAAS,cAA1D,CAAX;AACA;AACD;;AAAA;AACDJ,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAPQ,EAOP,CAACH,eAAD,EAAkBF,UAAlB,CAPO,CAAT;AASAZ,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,aAArC;AACA,WAAO,MAAM;AACXF,MAAAA,QAAQ,CAACG,mBAAT,CAA6B,SAA7B,EAAwCD,aAAxC;AACD,KAFD;AAGD,GALQ,CAAT;;AAOA,QAAMA,aAAa,GAAIE,KAAD,IAAW;AAC/B,QAAIA,KAAK,CAACC,GAAN,KAAc,QAAlB,EAA4B;AAC1BrB,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,GAJD;;AAMA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAE,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport * as api from './../api/apiService';\n\nModal.setAppElement('#root');\nexport default function ModalGrade({onSave, onClose, selectedGrade}) {\n   const { student, subject, type, value } = selectedGrade;\n\n  const [gradeValue, setGradeValue] = useState(value);\n  const [gradeValidation, setGradeValidation] = useState({});\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    const validation = api.getValidationFromGradeType(type);\n    setGradeValidation(validation);\n  }, [type]);\n\n  useEffect(() => {\n    const {minValue, maxValue} = gradeValidation;\n    if (gradeValue < minValue || gradeValue > maxValue) {\n      setErrorMsg(`O valor da nota deve ser entre ${minValue} e ${maxValue} (inclusive)`);\n      return;\n    };\n    setErrorMsg('');\n  },[gradeValidation, gradeValue])\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Escape') {\n      onClose(null);\n    }\n  }\n\n  return (\n    <div>\n      <Modal isOpen={true} />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}